
import React, { useState } from 'react'
import { useSprings, animated, interpolate } from 'react-spring'
import { useGesture } from 'react-use-gesture'
import './tool2.css'



export default function Deck() {
    const cards = [
        'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBUWFRgWFRYYGBgaGBgYGhkYGBgcGBwYGBgZGRgYGBgcIS4lHCErIRkYJjgmKy8xNTU1GiQ7QDs0Py40NTEBDAwMEA8QHhISHjQsJCs0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0MTQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NP/AABEIARIAuAMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAADBAACBQEGB//EADoQAAEDAgQDBgQEBQQDAAAAAAEAAhEDIQQSMUFRYXEFIoGRobETMsHRBkJS8BSSouHxI2JyghUzwv/EABoBAAMBAQEBAAAAAAAAAAAAAAABAgMEBQb/xAAqEQACAgICAgIABAcAAAAAAAAAAQIRAxIhMQRBE1EiYXGhFDJCkcHw8f/aAAwDAQACEQMRAD8A8v8ACXRST/wlYU1vsi0mICkp8NaAoqwoI2RerM74S58Jaow6n8MluilAyDRVTSWucOhuw6NhaGUaaE5i1XYdDfRTUiXAy3U0F1NabqKG6mqUjOUTNcxDLFoOpIT6aqzNxESxcLE06mqliZFChYqliaLFUsQKhUtXC1MliqWKQoXLVUtRy1VLUBQAtURCFEgo+nDCqj+zp0kFbYwzuCIzDncLz3mPTjBro818JzD3gesWRqbQV6MYfiEM4Bn6Y6WS+U1Si+0ZLcMr/wAItMYNg0JRG0hxR8pen0Y5wvJDfhVuOpqrqPJNZROB55+FS78MvRPohLvwy0jkM5QZ51+HS76C9BUwyWfhuS1UzCUTDdRQXUVtOwyA/DrTYyaMV1FCdSWw+ggOoqlIhxMt1NDcxaL6SG6miydWZ5YhuYnnUkN1NOw1Ei1VLE06mqOYlYtRQtUR3MURYan3P4SsKSsXcFZg4r575D2dCvwwq/CngmWhEawKtyehZuFHBFZhG8AmWMTlGkFUXsyJTozTgGoD8EF6J1EQka7eXotJJx7IjlcjDfhAln4ILbc3khmmkpmlswH4Lql34LmV6J1BCfhlospDR5p+DQH4VelfhUs/C8losxLhZ5mphEB+F5L0r8IgPwitZyXibPMvw3JLvw/JekfhUs/C8loswvhPOPoJd1Negq4McEu/CxsqWUl4jDdSQX0lsvwyXfhle6JeJmO+motF+HXEbon42fTKfaTD+Zs8CRKYGNb+oeYXwsV3nVzj1cU3hu0KjD3XnobjyK8t+C10z1F5OOT5TPtDu1aQs5wXafbNH9cea+Y4X8SvbrTYecEH1lOM/EhPzU2eAWb8aSN18MumfTqPadM6PHiU/R7QZ+pvmvmOG7dpxdh6iPumWdts2afIKVCUWKXjQl0z6d/HtIsR5pepX/3L507tw7D1S7+33jSPGT9VUtpezJeJGPs+iOrH9QVM7uXmvmdf8Q1z+cD/AKj6rOrds1zP+q++sOI9k44ZP2OUIx/4fW21CdHA9Co4nivi2G7Rq0nZqbyw7wbHqNCtCp+MMWWxnaOYY2Vq/GnfDRk5RXZ9UeY+ZwA5kD3VvhjWV8KxmKfUM1Huef8Ae4nynRXwnalel/66r2cg45f5Tb0Wn8JKuHyYvPG+j7bWAAklJOrsNp9CvnGG/HGKaIfkfzLYP9NvRMM/HTvzUh/1d9wp/hsq9fubRz4X2/2PdPeziAlqpYBJcI47LwGM/GNd05GtYNtSfsvP4zHVKhmo9z+RNvBugWkfGl/U6In5WKP8qbPpOK7YwrDDqzJ4A5j/AEysnHfifDNHczPPANIHiXQvBwuQt44Irts5peVJ9JI9ez8T0XfMx7DyAcPMH6In/mcMRIfHUEH1C8ZlXMqv4o+iV5MvaR6iv25RBtmd0FvWFF5eFFWiJ+eX5BgVdpVGhWClouLGGOTNN6TYUZjlnKJ0QnQ/TqJllVZrHphj1k4HTHKO/FVXPSvxFPiKVBFPKFeUF6hqID3rWMaMJTI8ITgoXFVglaxOaUijiFWVaFaytGEmCIVPBGc1QpkC70FxRqjUKEySsq7ArtaugIArlXIRFUuRYAyFF0lRAEBVguAKzVLNEy7UZiq1q6UmjSMgoeitelgV3Moo1Uw+ZcD0AvXWOS1HuMOchqr3KmZUokSkNYalneG6SYlO9pY1mG7lJud41e4CAeQVOwsIX1BwAJPl+yu9s4drT3WEgauPEH+6Kt0HUbQozH/HEVAA/wDK8CL/AKX8jseKXcITGExUQCwOgiOOWbiVq4nC0n2Z3XHS4gmPlPAq6ozaclfs8+XqhciYik5pIcCI1B2QHPTMXwQ3UDYXQ5UJlMRC5clVdZclAFi5UcVCVRAmywXVVqiBhibroKqSutKRVhGuUL10NXIQOySrNciVW90QhimUqK2OFyu1yq2iZTNLDooLYGbogaj/AMHbMDKqGmLBA3a7N/sap8Km935nuZTaYFs0lxjTYLbHY7Ht7/eOpk7pI4cVWUmtbkDXtvbvBrSZ+niV3DdsEv8AhAAnrfhosJN+jshGKVSMvtHBfCf3dJBtte0oDa7SSD8+o+i2O0sUA4se0AExe1zcAcTbbgsXtXBZHsqNNnHKfHdVGTdWRkglbiV7ZBcWui7mAkxvF/VYLmXXtO0+z3uYwtv3RMLGPYjzsVqpKjlyRdmLklcNlts7Je28FXPY7nXhPZEaSMAtlRtOdlv/APiHC0Lo7HejZD+OR584chc+DyXondkncqo7N5pbIPjZ59tEri2hhAXEbKI2DRmczAuOyM3Au2F16z4Y0gLtNkHRRubLAeZp9l1D+Upyj+Hah1svQteQmadYpObLWGJ5un2C5zsk6Jl34ZIiXLRo1yKrui0dd0ObBQiYo/Co3ern8MtAIa6St+W6SuggbqdpD0j9Hm2fhlzW2dPELSwHZdMC7bha2cBCYeCNmw1SGsFhmZw2L2dPNtwrfGoseXsphz47xJaHW0Am2qmCa/4gOQ5Y12SvbfYtJ/8AqTmZmcIADi17dcs9fBZyRtjkrpj1QYeuQa9PKQc7Jym+m0g9eay+2uyhXewMHcDiSQBAtusinTa1wbRa4k6uczKAvYYBmWkL3+6jlGk6S4MyuzIwNAsBHklQxxvCfxzHRZZ+d4WkejB9gMUTlIjZCo1CGiQr1cQ6DI2SrKjso4LRdEN8jLq5/ShPq8lcPdGqVqVSkMq+tyStUm8BNF8AmUucYN0yGzOpk53W2CiZ+MDUJB1aorsmgv8AEmbFHbUcYXGMbwTdItjTchQ6NI39i8uA1QPjPmLrUbTCv/DgTYaItDaf2Y1IuLyTK0Q5w3XRTv8AKigA2Q2iEgJqO2TNLGBjS9zQ4yBBAMDcwfdLtaZsuYnDvcC0EtnkCPEHVBUXT5HRjmE5QIOp+bTxt/haHZ7M7wBpqf8AiNft4rz2GdIGa3HrZb+HrMoMNwXuHeIMgDZoO/P+yrNFRlS/2xxt0E7V7R72Vt41j8oHBanY+Lomi1jsjMo0J1kyXX3JJleKwOKzue86Fzo04kW8lpsgiNze+ukCeOs6bLpXjxlBI5JZpbtmtjO0MMwzOY/7BPlx8FfDYhzznAys0DdyOa8viiACREcfQe8+K9D2FWzYZjuOY9O8bLHPhjija7NsGWWWVPop2vULS0skh024Ec+F1mvqOIuCnsTVDYzamY6Jf+KbMLmVm0lTqxDE5osCkml0ZcpW8+uyENjm3KaZLjfsygx8EwguDuC3A8LhY1Kx6/medxVFxELOxGBfaF6io0Slnq1ImUEzCo4Nwg6FRbGcKJ2xfGjhw5EAFOMpw+4trPMJdj5ggpio8HKdwdFLZokhyoxuvJBZV1HOyletDb6pdvzCeCS6G+xp0+oVmUxm5FK5+9aSL9E1S+WdIv4IAu2neyI8W5qgrEuBAtupUcDOtkgMvENyF4/S7N4O73/0fLqgYZj6zxSp6udrs1tszj09yFtO7OFSoQT3XsbMfNAlp4ib+nIL0HYnZVLDjuA3+ZzjLjwk8OQgLpztJRftoy55R4jDYYNe+mww1lSowSTmIY8sBMbkNnxWhkI+XnccdASPEpV1UF9R7TGd73CNmlxNuequyuLNbJceZm/TUr0I8RVnnvsX7QfDSDueOwFoEdLL1HYrMmGptOuQE9XXPus9nYLniazyG/oET4nZOYjGMYA0aC2q4PKyxnUYuz0PFxONylwZeMYamJIEwymAb2kukd3jcX6qtXDkc416JzsSo1wqPGrnlxO5HytHhlKNUpiZ4yCsJvWWv0hxWyb+2ZRaR0OiC55E8lrimDaNkm/D6nqpUitWCfVloNxb+psSPIyln4siwRgyAZuAQR4iHedvJCxQY67RHFNJCdoWfiiufxEi6q9lo5yhPJiAPFVSJtg31jsou5ONjEqIFbO06luF01h8RbmCepWSam6LhXEOsbJuIKRpvrE3gcPPVSnUN5E2gHkkTVvfn/lT48RdKitjTo4gFsakWRGVYkX2ss7DVeNwTB+ifD7eYkpNFJ2aNIm42gHomDEARc2KRw9WGgkySITeCcc4MSGw6CYuDYKYpykooptJWalHD5g4QRAygts7jbxQcR2iaDHZ++0CJGo27w/L1uvQMxlItGeGyATmHGw7wXkPxXg2VWPLXHI1jnwLHug5QOIJuZ4RuvQ3UY6zj+hi5J8iWJq0SC6mxopwBEw/S8OCaw3aOHotBYACR8zjJPj5L5vVc5pLGPdlBgJtlTPT+G+SWnMw872PUKXtOLjLj6r/ACZRyRjK0v7nru0PxJnByGeiw873uBeeNttCgdlEC2y0LTqPIj3RjwRjyTk8iU+DW7Drw3wJ/rP3WzVqNjxXm8BrF5vpoRqtFlUkZTabrm8qP47NvHf4TQNQbc0JtQEdQYSpnKQTB4+KHVeQIlusxImIF41WCRu2HkDu+HmkS1onhPuuYupDhJ215oGIqEEkaa+gP1VJEuSO1KYjxN0Bt/OFc1DB3EyhlxAgaz7KgK1aUggrqF8YkxG8emqifJPBnVZc6bdAAAi03kEAnp7rlR4u7iNvX3BKDVEEHePJWZVQeq+SVTDknXb2VWgkHhxNvBHY1rmEixGo2GYAj6oH7LMrC3v9VourgNvusXJDRm30InQcR1PoiMDyC1wgNEg9NQEnEak0egYAG25+l/ZbvYr2BxBPedFuXKfFeawdZz8okA5XTMw0BoaOpW5hsIH0y9rsr7i92yLSr8eMfk5NLbXBr9rZXQ0Oi49Fkdr1W08M8z+QtHU2b7rz9eni2vDBmc3WQQ4DmJ0Wf21iK7QGVZh0G8D5ZvA1F125oRlFK+nZlJtRdqjKw7MxTlShC52ezcJnFFJR4OKzmDaA7wTT2jVJYd/enkmmkFUIZwFTveE+hn2Wi+pqAAcu5Pe10WOx0XG4hMEw8D5g4C25B3PArj8hfiX6HXgdRZr1HzMfp8ZKTdUEAjczzPeQgXatiBG/hbr9VCJE3s52nAhpGvRcyR0N2FxDgbRwI0vw+yFWNmEgG0+RIuUDEOBYTwcN+cHppKvjWwARpBFzuDw1TJbBCoRYcYvw6LrqkGY4EJKoCDz0tuTofJVuRB6SqolSO/FIJEWm3GFELGMMAzPMcFE6FYbE0Q1oMG5JBI8LHyQckkg2OWfFsT6AhFDtWk2nfYWMjzXQ0FwIMxLTrcQAPcoKBMZLZixM9Tz6d5MUsPDLH5gCeUSLeXqu1XwAWi4bcbXj6K1ES0iIuRxiDJulYkiuJAyNaAe66NRJzAGemvmq4eoSWjaSCCOMx7nyUbRccxMgEyNxF5g9IHkpTpHOwg90mRcSCCft6p+hDtF/+k8n5hpYAzMb9Vx3ajmMDGyBmzOOpAcGmAOSthbN/mmP+JIMnUz9Vmkk98AkkmddR/YhOLadobbXRpYXEZTLKuca5YIPE8tJWb+IcX8Sow5SIYP6jMprBkhj3aGw6Tr5iyXxjWySTYtaAdBIbmLb/wDELWE23TIyylrTYCi0REbT9vdBxFQj03R6RBEghBxLF1Po4ylF52G6aFWJ12t1SmG1I/dkZg7x5hSmMZoVDInj4QQQnqbMsE5sw4iO7EGJ31WWNfL0j7J3O4ZnXvO/C+m6xzx6Zvhl2h2jUN2DUCJixJExH70VS5wjr9hHkkcMS17XcWwYIPP6LRL+5HORzOWPuuRqjpTtAatC7hJEyeV9eh08lTEuhwiCI30kgTIXTUOaCLEzPUQPb1Q8a3W5/KRG9oM+SYMVrgWvfQ6Ax4aWhUbWiIGaTqdYA91wVwTYXsfK0FUL9nERNup18VRAxiSwizru2A0vcFRLVXloBgHXS8z7KICy43JHXxgmyJTeREt1tbu6afT0VHamOEj7eqrTFxzG++lxzQAyam4OUSOcCDr4lRjjr8rYJM8zH0KBXZAMCSYHlEH98EzTeC0AkzFiOcwI8UFFaNV0kElzYzbxqSI8vVdpPMgflzC0XFx7hDFspBjfhbb1R2uEyeIJMazM+qCRqmZa/mfHUj6JJpe2ZuJ0POb9O7CdoNOg3Ppc/RIYh9i2zpykTrA1mPBJDYVlf5LG5LjaBYHh0VAe6YkwTIPAniVUTmFgAGxF7m4McbypNuBkcdBx8FQi9CkCCAxoJ3GvjH1WM2u5pLXgnad+C2KT8p1kZYvEzH3KQx1C+faIjiQP35Koya6IlBMox4NxM+qZbTdM5SOqXwMggAcl6BtEuYRaYt1Fwm80kOOCLVmM4HXhJn/jeEzjH2YCNJM3n8s+hIXX0xmdEbkSeMG/oFXEuMl1rDht+a/WfJJzcuGKMFE7TrSQBqPXebb6+Saa/uG/ymZ5TMeRWbRLh3xfu92OInXYTCcL/mFrtNjtBFhHL2WcjSLAYp95mSCRNzEQT++a5i6pJjhB5R+481yvBm+pDhyIH2KriXZgSDtb7ymH2DY8EcYJgjUTc28J80PEvLQLSD8pRaYta0300cDMdPmXGYgBtmzx5yfmQSCcD3YtuZ2jWyilXKbwRx4a6qJiGWSdoNxHjHiqtsRJmJkbaaeiE6te1oUfOszvbokXYau+f5m7bFdaxxIB19I1j2SxfYevsmmVD6R5f4QK7OVteosNhv4f3V21CIDTMls+Yn3CoXkOEa69Dsb9EStiy94zQTbaOc26oD2PU3Wpu5nyyED29UlSeJ0gATY6wGnbojsfIF/lc7yAAiFntqgbW+Tzv9B5pIJMKaoBLh3tBInXUgevmUHNaY1cT4bBUkwAN3adbD6qvxOEm17DWdvW6uibGwJjQkk+m97/AOEOs2BB2v0m0R+9VYECCRzHhu71Qw0kOeQYO8HLa5AOm4SGWwpAK2sPVhYFHWVosqqZI1gzmJqQ82tIJ6CCAk6tQnNPC9tYsSi13EuF4m3r/ZAqk5gToCR1uqSM5Pkth6sCHDvT5g6/vkmaLhAN+nIg2PnKVqOGm+3JWY85oOmxSaEiGpHhx4EwZ9FSo+J4fuyjwNCdztxKlaoTodQLQEUDJhajZBLQY4yBfoRzVqlNrWkggcBfS8ieGqWcY4GTPhsqPqSMp85ToVnWUyQdI/uousdAibbqJipFqggaXVnEtAPGAo2teHXjhxTeJaMsbH3CRVCtXiInWBueIUp1APP6Jd4g7f4RmvEACxlFCsJlBEceHDgmAGOIyggjKL8ARKXZhy4F2oEe1yFalUjQaa+VvZHoaY0Hw2/B/qQCVn4kQWxtDv5oTstII4g/X6pR7NCeQPlb2KSHLkG2JA3kepN/ZVEEgCdiegEwiA3PEAAHebBWwbg2XuExsdyTa3qqII0Oe6G62G1i4wBfp6rWr4juimQCwNgC4aS0ua8gjQkgGTMg80pXxz6rmtJ0+RtgAXRtpwTOL7Ncxmd7w8mBDCSYN5HdAGl1rGhNl8H2TTeDlf32sc8tNmw0A3eTA13Gx6oDMI/KHDLF/wA3DbTWy1KeJYKbwxuRrsrC4sGYAtJc0kfMO6TJ4pYsYAcoyhwAgOHAk7i991prFrkIyp0YrnXMi4PiuP47h2blEDRTHkMfLDmEROswADfolajybjjE+JKwaphZcuiTrwnjuZVW1pOlxp1hQvBG9oH90M0jNuvOyVAEL5nhH2XXPk/520hcLLc94UAEk+KAKOdsOG3nfir31Q3AG9vCfZEg76wLTcIA6yHGI6eGxXVcN0USGdbXh02TNR2dnjtwSOS54ozTaP35pDTB5Z6quW/78UZjx9lV7fJMQU1YBA0Mb8EBlS1uqCSVwGBunQrGqda45Kwq3IIE5pvol6LDMxLV2pOaRwI5pUO3QWHZnGLTJ462+qoTIaOZLuukeShfcyTqqbygQy15BLoBdpPAckQ454bqlM9o14nkjFwgd2dvDgmMucW+xJMGNyOUwhUyS6QZdfpOmvFUuTbbjoitsQZHhpzQ2wSJjXmeJAAPhqlwbG3l7q1S59vsoI4kHhCYmXe2BoI2M8kOpGm0ajbwXajY0KA7VIGyxMg3+/FUp8+i6pmB0TEEe0jaJ3Cjp6bLrK3HTbyXajpb026pDOMcQfAqKrHwLqIoLC4jb98VBp4qKKRnaO/74qVdPFRRP2HoHU0XNv3zUUTEXoaeC61RRAzlfbr9FV2niuqKReztLXwRGfX6qKKhkfv0C4z5T4qKJDF3fUqztQuKJkhH6BDUUQBKuiDT0XVECfZejv4qrND1UUQBSt8w6KKKIEf/2Q==',
        'https://upload.wikimedia.org/wikipedia/en/5/53/RWS_Tarot_16_Tower.jpg',
        'https://upload.wikimedia.org/wikipedia/en/9/9b/RWS_Tarot_07_Chariot.jpg',
        'https://upload.wikimedia.org/wikipedia/en/d/db/RWS_Tarot_06_Lovers.jpg',
        'https://upload.wikimedia.org/wikipedia/en/thumb/8/88/RWS_Tarot_02_High_Priestess.jpg/690px-RWS_Tarot_02_High_Priestess.jpg',
        'https://upload.wikimedia.org/wikipedia/en/d/de/RWS_Tarot_01_Magician.jpg'
      ]
      
      // These two are just helpers, they curate spring data, values that are later being interpolated into css
      const to = i => ({ x: 0, y: i * -4, scale: 1, rot: -10 + Math.random() * 20, delay: i * 100 })
      const from = i => ({ x: 0, rot: 0, scale: 1.5, y: -1000 })
      // This is being used down there in the view, it interpolates rotation and scale into a css transform
      const trans = (r, s) => `perspective(1500px) rotateX(30deg) rotateY(${r / 10}deg) rotateZ(${r}deg) scale(${s})`
  const [gone] = useState(() => new Set()) // The set flags all the cards that are flicked out
  const [props, set] = useSprings(cards.length, i => ({ ...to(i), from: from(i) })) // Create a bunch of springs using the helpers above
  // Create a gesture, we're interested in down-state, delta (current-pos - click-pos), direction and velocity
  const bind = useGesture(({ args: [index], down, delta: [xDelta], distance, direction: [xDir], velocity }) => {
    const trigger = velocity > 0.2 // If you flick hard enough it should trigger the card to fly out
    const dir = xDir < 0 ? -1 : 1 // Direction should either point left or right
    if (!down && trigger) gone.add(index) // If button/finger's up and trigger velocity is reached, we flag the card ready to fly out
    set(i => {
      if (index !== i) return // We're only interested in changing spring-data for the current spring
      const isGone = gone.has(index)
      const x = isGone ? (200 + window.innerWidth) * dir : down ? xDelta : 0 // When a card is gone it flys out left or right, otherwise goes back to zero
      const rot = xDelta / 100 + (isGone ? dir * 10 * velocity : 0) // How much the card tilts, flicking it harder makes it rotate faster
      const scale = down ? 1.1 : 1 // Active cards lift up a bit
      return  { x, rot, scale, delay: undefined, config: { friction: 50, tension: down ? 800 : isGone ? 200 : 500 } }
    })
    if (!down && gone.size === cards.length) setTimeout(() => gone.clear() || set(i => to(i)), 600)
  })
  // Now we're just mapping the animated values to our view, that's it. Btw, this component only renders once. :-)
  return  props.map(({ x, y, rot, scale }, i) => (
    <div className="root1">
    <div>
    <div>
    <div className="body1">
    <animated.div key={i} style={{ transform: interpolate([x, y], (x, y) => `translate3d(${x}px,${y}px,0)`) }}>
      {/* This is the card itself, we're binding our gesture to it (and inject its index so we know which is which) */}
      <animated.div {...bind(i)} style={{ transform: interpolate([rot, scale], trans), backgroundImage: `url(${cards[i]})` }} />
    </animated.div>
    </div>
    </div>
    </div>
    </div>
  ))
 
}